<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=en><![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang=en><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang=en><![endif]--><!--[if gt IE 8]><!--><html class=no-js lang=en><!--<![endif]--><head><meta charset=utf-8><title>Posts &#8211; Le murmure de Julian</title>
<meta name=description content><meta property="og:url" content="https://blog.jln.co/post/"><meta property="og:site_name" content="Le murmure de Julian"><meta property="og:title" content="Posts"><meta property="og:locale" content="zh_tw"><meta property="og:type" content="website"><meta property="og:image" content="https://blog.jln.co/images/avatar.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.jln.co/images/avatar.png"><meta name=twitter:title content="Posts"><link rel=canonical href=https://blog.jln.co/post/><link rel=alternate type=application/rss+xml href=https://blog.jln.co/post/feed.xml title="Le murmure de Julian"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.css><link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel=stylesheet type=text/css><meta http-equiv=cleartype content="on"><meta name=generator content="Hugo 0.128.0"><script src=/js/vendor/modernizr-2.6.2.custom.min.js></script><script async src=https://unpkg.com/mermaid@8.2.3/dist/mermaid.min.js></script><link rel="shortcut icon" href=/favicon.png></head><body id=post-index class=feature><nav id=dl-menu class=dl-menuwrapper role=navigation style=display:inline-block><button class=dl-trigger>Open Menu</button><ul class=dl-menu><li><a href=/>Home</a></li><li><a href=#>About</a><ul class=dl-submenu><li><img src=/images/avatar.png alt="Julian Shen's photo" class=author-photo><h4>Julian Shen</h4><p>Softward developer</p></li><li><a href=mailto:julianshen22@gmail.com><i class="fa fa-fw fa-envelope"></i> Email</a></li><li><a href=https://linkedin.com/in/julianshen><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a></li><li><a href=https://github.com/julianshen><i class="fa fa-fw fa-github"></i> GitHub</a></li><li><a href=https://instagram.com/julianshen><i class="fa fa-fw fa-instagram"></i> Instagram</a></li></ul></li><li><a href=#>Posts</a><ul class=dl-submenu><li><a href=/post/>All Posts</a></li><li><a href=/tags/>All Tags</a></li></ul></li><li><a href=/></a></li></ul></nav><div class=entry-header><div class=image-credit>Image credit: <a href=http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/>dargadgetz</a></div><div class=entry-image><img src=/abstract-2.jpg alt=Posts></div><div class=header-title><div class=header-title-wrap><h1><a href=/ title="Go to the homepage">Le murmure de Julian</a></h1><h2>All posts</h2></div></div></div><div id=main role=main><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2012-07-19 17:12:37 +0000 UTC"><a href=/Android-ADK-2012-%E5%81%BD%E9%96%8B%E7%AE%B1/>Jul 19, 2012</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>
Reading time ~2 minutes</span></div><h1 class=entry-title><a href=/Android-ADK-2012-%E5%81%BD%E9%96%8B%E7%AE%B1/ rel=bookmark title="[Android] ADK 2012 偽開箱" itemprop=url>[Android] ADK 2012 偽開箱</a></h1></header><div class=entry-content><div class=posterous_autopost><p>昨天去了GTUG聽了關於Arduino的分享, 硬體我是大外行, 但這東西還真的是很有趣呀! 其實在Google I/O拿到了免費的ADK 2012, 目前也還沒想到除了高級鬧鐘外, 我要拿它來玩啥, 先來個開箱好了&mldr;呃&mldr;但其實我老早就把箱子給破了&mldr;.好吧, 這是個偽開箱</p><p><img src=https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-ash4/473650_4060682631969_1232113611_o.jpg alt width=520> </p><p>整個東西其實是用磁鐵吸住的, 所以要把這鬧鐘箱打開, 其實很簡單, 打開後分為兩塊版, 上面那塊版據說是Arduino Due, 下面則是一堆Sensor</p><p><img src=https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-snc6/256370_4060683031979_2004422377_o.jpg alt width=520> </p><p>這一塊就是Due, 後端有SD</p><p><img src=https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-ash3/615958_4060683391988_693016868_o.jpg alt width=520> </p><p>前端則有兩個USB加上電源, 它可以由USB供電, 也可以由這個電源供電, USB一個是連接PC用, 一個則是手機</p><p><img src=https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-ash3/616448_4060683671995_1742764531_o.jpg alt width=240/><img src=https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-snc6/277949_4060683912001_1848343898_o.jpg alt width=240> </p><p>Sensor則是有溫濕度感應, 大氣壓感應, 光感應, 顏色, 加速度, 磁力, proximity sensor等等&mldr; (呃, 這樣還是個鬧鐘嗎?)</p><p>當然也有NFC: <img src=https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-snc7/330737_4060684112006_116585177_o.jpg alt width=520></p><p>整個合體的外觀就像這樣:</p><p><img src=https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-snc6/243704_4060685072030_1075335277_o.jpg alt width=520> </p><p>當然, 這不是普通的Arduino, 這是ADK 2012, Android手機可以透過USB或藍牙與它連結</p><p>Android developer網站上有開發簡介:<a href=http://developer.android.com/tools/adk/adk2.html> </a><a href=http://developer.android.com/tools/adk/adk2.html>http://developer.android.com/tools/adk/adk2.html</a></p><p>也有一個範例程式, 可以從Play store上<a href="https://play.google.com/store/apps/details?id=com.google.android.apps.adk2&amp;feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5nb29nbGUuYW5kcm9pZC5hcHBzLmFkazIiXQ..">下載</a></p><div class="p_embed p_image_embed"><a href=http://getfile0.posterous.com/getfile/files.posterous.com/temp-2012-07-19/cHnGCotEwlgtlJtacenowlHmgbhkvjbcrIEqfewbHrwofDjwxqFcjgunsGxw/device-2012-07-19-170809.png.scaled1000.png><img alt=Device-2012-07-19-170809 height=889 src=http://getfile8.posterous.com/getfile/files.posterous.com/temp-2012-07-19/cHnGCotEwlgtlJtacenowlHmgbhkvjbcrIEqfewbHrwofDjwxqFcjgunsGxw/device-2012-07-19-170809.png.scaled500.png width=500></a></div><p>不過還沒想到該拿它來做啥, 不過以這形狀, 如果想拿來做個啥機器人之類的, 就有可能會需要把它給拆了吧?</p><p>不過如果能做一個這樣的東西, 也不賴呀:</p><p><iframe src=http://www.youtube.com/embed/2pj8FHxzFvI frameborder=0 height=315 width=560></iframe></p></div></div></article><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2012-07-18 01:05:39 +0000 UTC"><a href=/Android-Enable/Disable-Activity-at-runtime/>Jul 18, 2012</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>
Reading time ~2 minutes</span></div><h1 class=entry-title><a href=/Android-Enable/Disable-Activity-at-runtime/ rel=bookmark title="[Android] Enable/Disable Activity at runtime" itemprop=url>[Android] Enable/Disable Activity at runtime</a></h1></header><div class=entry-content><div class=posterous_autopost><p>這篇主要來自Google I/O 2012這兩個Sessions:</p><p><a href=https://developers.google.com/events/io/sessions/gooio2012/101/>Making Good Apps Great: More Advanced Topics for Expert Android Developers</a></p><p><a href=https://developers.google.com/events/io/sessions/gooio2012/103/>Doing More With Less: Being a Good Android Citizen</a></p><p>在這兩堂演講中有提到, 可以利用"<a href=http://developer.android.com/reference/android/content/pm/PackageManager.html#setComponentEnabledSetting%28android.content.ComponentName,%20int,%20int%29>PackageManager.setComponentEnabledSetting</a>&ldquo;把不用的Intent receiver給停用, 這在Android中的確相當有用處, 常常Intent broadcast都是一個造成系統忙碌的主要原因, 在早期的Android版本, 甚至常常碰到因"android.net.conn.CONNECTIVITY_CHANGE"所導致的ANR, 這是因為註冊聽這Intent的receiver常常非常的多(大多網路相關, 而智慧型手機最常見就是網路相關的軟體)</p><p>不過這邊要講的並不是這個問題, 不過也可以應用到同樣的技巧</p><p>Android中, 可以設定多個Activity去處理同一種的Intent, Share (android.intent.action.SEND)就是最典型的例子, 但這也造成另一種困擾, 註冊的應用程式太多, 導致整個Share menu相當的雜亂難選:</p><div class="p_embed p_image_embed"><a href=http://getfile3.posterous.com/getfile/files.posterous.com/temp-2012-07-17/HFxpssxguCgnDwwACebnqGHiGbzCdEFqdemdkngthwmJIkviiJEvcjIysCGp/device-2012-07-18-005244.png.scaled1000.png><img alt=Device-2012-07-18-005244 height=889 src=http://getfile4.posterous.com/getfile/files.posterous.com/temp-2012-07-17/HFxpssxguCgnDwwACebnqGHiGbzCdEFqdemdkngthwmJIkviiJEvcjIysCGp/device-2012-07-18-005244.png.scaled500.png width=500></a> <a href=http://getfile9.posterous.com/getfile/files.posterous.com/temp-2012-07-17/olyCDiyjymsychmBqulibxtncpeduyEJCAurjrEDsoauBDuFypxomikyaday/device-2012-07-18-005244.png.scaled1000.png><img alt=Device-2012-07-18-005244 height=889 src=http://getfile1.posterous.com/getfile/files.posterous.com/temp-2012-07-17/olyCDiyjymsychmBqulibxtncpeduyEJCAurjrEDsoauBDuFypxomikyaday/device-2012-07-18-005244.png.scaled500.png width=500></a><div class=p_see_full_gallery><a href=http://julianshen.posterous.com/android-enabledisable-activity-at-runtime>See the full gallery on Posterous</a></div></div><p>由這個例子看來整個list相當的長, 這對使用者來說可能不好用, 而且問題在於, 有些可能不用一開始就出現, 比如說如果沒有登入任何一個e-mail account, Mail這選項是可以被藏起來的, 這作法就是</p><p>ShareActivity 預設成disable:</p><blockquote class=posterous_short_quote><p>&lt;activity android:name="ShareActivity&rdquo;<strong> android:enabled=&ldquo;false&rdquo;</strong>></p></blockquote><p>這樣如果沒enable它的話, 就不會在Share list出現, 只要我們在某個點(比如說已經完成登入帳號)去enable它, 它就又可以回到這list了:</p><p style=padding-left:30px>if(pm.getComponentEnabledSetting(cname) != PackageManager.COMPONENT_ENABLED_STATE_ENABLED ) {<br>            pm.setComponentEnabledSetting(cname, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, 0);<br>        } else {<br>            pm.setComponentEnabledSetting(cname, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, 0);<br>        }</p></div></div></article><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2012-07-09 03:29:29 +0000 UTC"><a href=/Google-IO-2012/>Jul 9, 2012</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>
Reading time ~7 minutes</span></div><h1 class=entry-title><a href=/Google-IO-2012/ rel=bookmark title="Google IO 2012" itemprop=url>Google IO 2012</a></h1></header><div class=entry-content><div class=posterous_autopost><p>尼克大說，對Julian的十大IO問題之一應該是"你是自己花錢去的嗎?&ldquo;, 今年的確自費出國參加了幾個活動, 本以為今年也無緣IO了, 不過最終還是成行了, 不用繼續怨念, 這都得感謝很多人呀…首先是Tiffanie的幫忙牽線, 以及Elvis的慷慨讓票(老實說他大可以拿去賣黃牛票賺一筆,卻原價轉賣給我), 還有wuman, 不曉得幫我跟他朋友煩過幾次, 後來聽到尼克大也差點幫我弄到票, 實在非常的感動&mldr;.還得感謝Arthur, 我這次就可以不用自費出去了(還得間接感謝這時候離職的Johnny :P , 還有也有幫我問的mifong), 反正終於不用在台灣枯坐在電腦前熬夜看轉播, 雖然去了美國還是熬著夜被公司這邊要東西(不是有人拿著保障名額出去的?), 好吧&mldr;.總歸還是很高興&mldr;.很感謝這麼多的人&mldr;.</p><p>好了, 感謝完了, 進入正題, 猶豫半天, 還是把這篇當半遊記來寫, 反正好像還在Jet lag (呃, 都回來三四天了), 還睡不著, 適合胡言亂語, 寫寫流水帳</p><p>這次的Google I/O是第一次一口氣舉辦了三天, 大概越來越熱門了, 才會讓Google這次乾脆延長了一天, 不過票價也提高到了九百鎂, 這大概也已經成為每年developer最大的活動之一了, 老實說, 第一次來的我也有點興奮過頭了, 早上"六點"不到就到了Moscone Center, 本以為我已經夠瘋了, 結果:</p><p><a href=http://www.flickr.com/photos/julianshen/7522521522/ title="DSC03266 by Julian Shen, on Flickr"><img src=http://farm9.staticflickr.com/8291/7522521522_6269d30344_z.jpg height=427 alt=DSC03266 width=640></a></p><p>好吧, 早來其實沒特別好處,  除了可以早點來吃早餐, 吃完早餐後看到長長一列的排隊人潮就發現, 完全沒佔到便宜, 一堆人排隊等著上樓聽Keynote呀! 我這時候才排, 已經是落後了, 事實上, Keynote開始時, 我還被卡在外面呢&mldr;.</p><p>不過排隊排的後面也不完全差, 不知道怎回事, 我就這麼被擠到這位子:</p><p><a href=http://www.flickr.com/photos/julianshen/7522549754/ title="DSC03293 by Julian Shen, on Flickr"><img src=http://farm8.staticflickr.com/7133/7522549754_8dedcf6cef_z.jpg height=427 alt=DSC03293 width=640></a></p><p>雖然在邊邊, 但這是前十排的位置呀&mldr;.中間的位置好像是媒體</p><p>不意外的, 今年Android也是一大主題, 這幾年, Android, Chrome似乎就已經佔去Google話題的大半, 當然, Glasses還有跳傘噱頭也是今年的一大亮點, 不過, 畢竟還不算是現實的東西</p><p>會場很多比較東西都跟Android比較相關 (機器人比較好做話題吧, 總不會要Chrome拿來當神奇寶貝球):</p><p><a href=http://www.flickr.com/photos/julianshen/7522555818/ title="DSC03323 by Julian Shen, on Flickr"><img src=http://farm9.staticflickr.com/8150/7522555818_99109ba571_n.jpg height=320 alt=DSC03323 width=213></a><a href=http://www.flickr.com/photos/julianshen/7522553768/ title="DSC03318 by Julian Shen, on Flickr"><img src=http://farm9.staticflickr.com/8007/7522553768_8d01acbb89_n.jpg height=320 alt=DSC03318 width=213></a><a href=http://www.flickr.com/photos/julianshen/7522554998/ title="DSC03320 by Julian Shen, on Flickr"><img src=http://farm8.staticflickr.com/7110/7522554998_11b7a1b8b7_n.jpg height=213 alt=DSC03320 width=320></a><a href=http://www.flickr.com/photos/julianshen/7522552648/ title="DSC03317 by Julian Shen, on Flickr"><img src=http://farm9.staticflickr.com/8155/7522552648_0f2506c390_n.jpg height=213 alt=DSC03317 width=320></a></p><p>今年雖然增加了三天, 但Keynote還是維持跟往年一樣就只有兩天, Keynote內容基本上也跟去年差不多, 第一天著重在Android, 第二天著重在Chrome, 只是第一天這次插入了Glasses和G+, 第二天則是加入了Drive, Cloud&mldr;有老面孔也有新面孔&mldr;</p><p>老賈上天堂後, Vic是我覺得現在Keynote講的最好的一個, 條理分明, 速度也控制得宜, 不像Cook的那種拖長長還不知道他表達什麼, 現場聽Keynote的感覺是&mldr;. "比較熱鬧&rdquo;&mldr;台上的3D投影也很炫&mldr;不過就是少了跟朋友同步聊天的樂趣, 在台灣看還可以同時用Skype, Facebook, Plurk, 現場人多混亂, 認識的朋友也早不知道被擠到哪去了, 上網也很不穩定, Wifi, 3G都不是很OK呀&mldr;.</p><p>大老遠跑去現場跟在家看轉播錄影有啥不同?除了說可以去一些沒有轉播的場次外, 跟外面一堆攤位的互動, 也是在家沒辦法辦到的&mldr;. 本來很認真的邊聽Keynote邊排好後面想聽的東西, 不過後來想想就沒照著跑了, 大部分時間同時在多個場次跑來跑去, 還有在外面的攤位逛逛, 主要是覺得, 大老遠跑去, 如果只是去聽那些會有錄影轉播的場次, 其實挺浪費的, 因為那些回去還可以反覆複習, 不用去到裡面打瞌睡, 打游擊, 然後回去再複習錄影, 收穫可能比較多, 而且, 外面還是有些寶可以挖呀</p><p>今年跟往年一樣, 也有大放送一堆東西, 首先第一天是Android developer三寶 - Tablet (Nexus 7), Phone (Galaxy Nexus), 和Nexus Q, 第二天則是Chromebox</p><p><a href=http://www.flickr.com/photos/julianshen/7529440884/ title="DSC03347 by Julian Shen, on Flickr"><img src=http://farm8.staticflickr.com/7131/7529440884_26edf6226a.jpg height=333 alt=DSC03347 width=500></a></p><p>大老遠跑過去, 雖然不完全是為了這些贈品, 但說不想拿這些就太虛偽了 :P 開箱時忘了拍照片(其實是懶得拍), 所以就不放照片了, 由於今年Android的主題是新版的4.1 (Jelly bean), 因此Tablet和Phone都已經升級到最新, 馬上可以把玩了</p><p>除了這些, 還有T-shirts外, 如果跑對門路, 還有別的東西, 比如說我和Wuman跑去ADK這個場次, 賭的就是去年這topic有送ADK, 今年應該也會, 果然這也是有送的場次, 此外第二天Sony在場外(離會場很遠)也舉辦了活動, 有送前五百名參加者Google TV, 結果我們一行人, 冒著冷風排了兩個多小時, 排倒數20名內, 成功的進去讓Sony請喝酒拿Google TV</p><p>雖然Google排了三天的內容, 但第三天其實就是垃圾時間了, office hour也都收了, 這天想問問題根本就白跑了(本來想去問問G+ history API的說), 連便當都只剩下盒餐, 只好跟Tiffanie搜刮一下桌上的Jelly bean</p><div class="p_embed p_image_embed"><a href=http://getfile8.posterous.com/getfile/files.posterous.com/temp-2012-07-08/krIjiwJojHHwJmFFbrpBwiEoGIhnsyIAmjzaIxpAImnHcsxIBIdBoCruwoIH/555768_3977770399215_694333072_n.jpg.scaled1000.jpg><img alt=555768_3977770399215_694333072_n height=667 src=http://getfile3.posterous.com/getfile/files.posterous.com/temp-2012-07-08/krIjiwJojHHwJmFFbrpBwiEoGIhnsyIAmjzaIxpAImnHcsxIBIdBoCruwoIH/555768_3977770399215_694333072_n.jpg.scaled500.jpg width=500></a></div><p> </p><p>這次的一些重點內容心得(大略想到的, 以後有機會再補充);</p><p>Android Jelly Bean: 實際上的感覺真的是非常的順暢, 感覺下了很多功夫在performance上面呀, 雖然整個Usability還不夠好, 但也有了不錯的進步, 整體流暢度可以幹掉iPhone了, 第一次拿到裝了JB的Galaxy Nexus後, 就有點愛不釋手了, Google Now雖然不像是直接針對Siri來的, 但感覺像是一個以Search為中心整合的一個產品, 不過, 我實際試用, 不覺得它有台上展示的那麼聰明, 我拿著它的建議搭車, 老要我搭下一班, 不過JB真很令人惶恐, 尤其時Android手機製造商呀, 快被Google打成純製造商了吧&mldr;.</p><p>Nexus 7: 拿在手上, 還是擺脫不了廉價感, 不過就199, 能要求啥? 一打開到桌面, 濃濃的Play store味, 很明顯的感覺Google的重點不是放在硬體跟OS, 而是內容, 擺明的就是跟Kindle Fire嗆聲, 不過, 雖然電子書也是它的其中一個重點, 但實際上看, 覺得這螢幕看電子書, 不舒服</p><p>Nexus Q: Google進軍客廳的一個"實驗", 為啥說是"實驗"? 因為這東西功能實在不多, 也不特別突出, 就是上Play store下載下來播放, 某種程度上跟Apple TV近似, 但卻又賣超貴(比起Apple TV), 而且, 進客廳, 跟原本Google TV的重疊度太過於高了~~設定程式必須跑在JB的裝置上, 現在JB裝置也就那兩個, 所以到時候它開賣時, 想買它的人搞不好還得同時搬個Nexus 7回家(假如Galaxy Nexus那時候還沒升級)</p><p>Google+: 在Keynote提的Event等於就是Facebook Event的升級版了! 看來它是試著去解決Facebook event碰到的問題, party mode是一個不錯的設計, 雖然我之前就有想要做類似的東西了, 至於這次也同樣發表的history api, 一整個看起來就是Facebook open graph的複製品, Google+有在進步, mobile client有做更好, 但其他的, 似乎太跟Facebook走了, 這不見得是好事</p><p>Glasses: 目前噱頭大於實際用途的東西, 感覺上現有的功能不多, 從keynote和會場的聊天聽來, 沒多少功能, 拿來Hangout還OK, 預購價格1500還算很貴, 不過預購的人不少, 功能不齊全, 明年才能拿到, 電池續航力都是個疑問</p><p>Chrome: 今年的Keynote主要集中在不同裝置間的Sync, keynote上太陽馬戲團用CSS3D, WebRTC做出來的東西還挺不錯的, 會場的攤位則是有展示各種不同以HTML5 API做的東西, 還有以Native client打造的遊戲(如古墓奇兵) , 至於Chromebox&mldr;用了之後的感想是, ChromeOS是個爛東西 = =&ldquo;</p><p>其他: Google Drive API應該值得看一下(Drive整個好像Dropbox + evernote + google doc), Mobile Youtube API , 至於GCE, 細節似乎還不太多, 不過以後應該有機會來跟AWS做競爭</p><p>以上, 懶得寫了, 該睡了&mldr;</p><p>最後,</p><p>跟著老朋友新朋友, 一起參加這活動, 是意義非凡的一件事呀</p><p><a href=http://www.flickr.com/photos/julianshen/7522551692/ title="DSC03316 by Julian Shen, on Flickr"><img src=http://farm9.staticflickr.com/8011/7522551692_3b017e1ff1.jpg height=333 alt=DSC03316 width=500></a></p></div></div></article><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2012-06-22 21:23:52 +0000 UTC"><a href=/Untitled/>Jun 22, 2012</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>
Reading time ~1 minute</span></div><h1 class=entry-title><a href=/Untitled/ rel=bookmark title=Untitled itemprop=url>Untitled</a></h1></header><div class=entry-content><div class=posterous_autopost><a href=http://instagr.am/p/MLX1B5A2yb/><div class="p_embed p_image_embed"><a href=http://getfile8.posterous.com/getfile/files.posterous.com/julianshen/zpdlJxxzfdFurlgghgCgCIAeCqislqlCmFtfdzDDofIFHnybzIDnxorocAqb/media_httpdistilleryi_mjmyk.jpg.scaled1000.jpg><img alt=Media_httpdistilleryi_mjmyk height=500 src=http://getfile5.posterous.com/getfile/files.posterous.com/julianshen/zpdlJxxzfdFurlgghgCgCIAeCqislqlCmFtfdzDDofIFHnybzIDnxorocAqb/media_httpdistilleryi_mjmyk.jpg.scaled500.jpg width=500></a></div></a><br>Taken at 山頭火 Santouka</div></div></article><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2012-05-10 02:48:03 +0000 UTC"><a href=/%E4%BD%BF%E7%94%A8HTML5/Javascript%E5%81%9A%E4%B8%80%E5%80%8B%E5%83%8FInstagram%E7%9A%84%E7%9B%B8%E6%A9%9F-Only-works-on-Opera-mini/>May 10, 2012</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>
Reading time ~2 minutes</span></div><h1 class=entry-title><a href=/%E4%BD%BF%E7%94%A8HTML5/Javascript%E5%81%9A%E4%B8%80%E5%80%8B%E5%83%8FInstagram%E7%9A%84%E7%9B%B8%E6%A9%9F-Only-works-on-Opera-mini/ rel=bookmark title="使用HTML5/Javascript做一個像Instagram的相機 (Only works on Opera mini)" itemprop=url>使用HTML5/Javascript做一個像Instagram的相機 (Only works on Opera mini)</a></h1></header><div class=entry-content><div class=posterous_autopost><p>Instagram是一個我一直蠻喜歡的service, 主要是簡單, 加上有一些濾鏡可以豐富我隨手拍的照片, 當然, 重要的是, 高價賣給了Facebook而一炮而紅</p><p>上星期, 參加了AT&amp;T Palo Alto Hackthon, 拿到大獎的團隊用了一個lib叫 caman.js 的, 這東西讓我有點小小驚艷, 它光用javascript (其實是Coffee script)就實作出了許多影像處理的功能, 這讓我興起想用這個來試著做出類似Instagram的東西, 當然是純用HTML+Javascript</p><p>首先面臨的一個問題是, 實作Camera的部份, HTML5支援media capture的方式有三種(請參考Reference 3) : Input tag, device tag, WebRTC (getUserMedia)</p><p>但很不幸, 除了Input tag以外, 大部分手機上的browser,如Android browser, Firefox, Chrome, 可以說幾乎全部都不支援, 這可真是有點令人傷心的消息, 因為用Input tag, 會離開browser跳到另一個程式, 這樣就無法結合自己的UI了</p><p>不過, 其實也沒那麼絕望, Android上的Opera Mini, 就支援getUserMedia (參考Reference 1)</p><p>因此就可以實作出像這樣的東西:</p><div class="p_embed p_image_embed"><a href=http://getfile4.posterous.com/getfile/files.posterous.com/temp-2012-05-09/hdkhIAvtBoDFyEsHGjFypdhAoipfjeneideBuyarEeeyBBhxrrABiolrlAIx/device-2012-05-10-021018.png.scaled1000.png><img alt=Device-2012-05-10-021018 height=889 src=http://getfile1.posterous.com/getfile/files.posterous.com/temp-2012-05-09/hdkhIAvtBoDFyEsHGjFypdhAoipfjeneideBuyarEeeyBBhxrrABiolrlAIx/device-2012-05-10-021018.png.scaled500.png width=500></a></div><p>WebRTC(getUserMedia)的原理是把media stream導到video tag去播放(理應就這樣做), 但這樣出來的比例是camera的比例, Instagram的照片都是方形的, 要實現這點, 其實也不難, 就另外把內容畫到另一個方形canvas, 在video play的時候開始每隔40ms畫一次, 把video畫到canvas的方式也不難, 就把他當image看待就行了</p><p>不過當第一次使用時, 瀏覽器會跳出詢問是否允許使用相機的對話窗:</p><div class="p_embed p_image_embed"><a href=http://getfile4.posterous.com/getfile/files.posterous.com/temp-2012-05-09/lsFjdyIdkIwuuecwfAyoHygAtntdpFtqvcHDzDoHygFqsgmzgBjHzktmjyeB/device-2012-05-10-021029.png.scaled1000.png><img alt=Device-2012-05-10-021029 height=889 src=http://getfile4.posterous.com/getfile/files.posterous.com/temp-2012-05-09/lsFjdyIdkIwuuecwfAyoHygAtntdpFtqvcHDzDoHygFqsgmzgBjHzktmjyeB/device-2012-05-10-021029.png.scaled500.png width=500></a></div><p>因為偷懶, 拍照的部份沒沿用原本的canvas, 另起一個Canvas, 並把可用的濾鏡放在下面:</p><div class="p_embed p_image_embed"><a href=http://getfile1.posterous.com/getfile/files.posterous.com/temp-2012-05-09/DdBlcmGlIsfwICbkBofEIcssEeEeoxBJmfqluqIFrGEzxrvEHimcCxhIGsnB/device-2012-05-10-021056.png.scaled1000.png><img alt=Device-2012-05-10-021056 height=889 src=http://getfile3.posterous.com/getfile/files.posterous.com/temp-2012-05-09/DdBlcmGlIsfwICbkBofEIcssEeEeoxBJmfqluqIFrGEzxrvEHimcCxhIGsnB/device-2012-05-10-021056.png.scaled500.png width=500></a></div><p>接下來就是神奇的CamanJS的工作了, CamanJS是一個以CoffeeScript實作出來的影像處理的lib, 還真的蠻厲害的, 害我都有點想研究一下CoffeeScript了</p><p>使用方式非常的簡單, 像以下面的程式:</p><blockquote class=posterous_short_quote><p>Caman(&ldquo;path/to/image.jpg&rdquo;, &ldquo;#canvas-id&rdquo;, function () {</p><p>    // manipulate image here</p><p>    this.brightness(5).render();</p><p>});</p></blockquote><p>就可以提高影像的亮度了,</p><p>此外還有許多預設的濾鏡, 我也偷懶直接採用, 這就是做出來的效果:</p><div class="p_embed p_image_embed"><a href=http://getfile9.posterous.com/getfile/files.posterous.com/temp-2012-05-09/AGqEkJppdzlhIkbEFCjJxGyxxyunngtqdvBkAtJFEpmrnpAsfxJerHgrpgsJ/device-2012-05-10-021122.png.scaled1000.png><img alt=Device-2012-05-10-021122 height=889 src=http://getfile4.posterous.com/getfile/files.posterous.com/temp-2012-05-09/AGqEkJppdzlhIkbEFCjJxGyxxyunngtqdvBkAtJFEpmrnpAsfxJerHgrpgsJ/device-2012-05-10-021122.png.scaled500.png width=500></a></div><div class="p_embed p_image_embed"><a href=http://getfile6.posterous.com/getfile/files.posterous.com/temp-2012-05-09/nsBdqnInJGxGtjBgsBDEtpmeDhAJmlxvnornfrobJeFkFebindyoGExjmfAD/device-2012-05-10-020928.png.scaled1000.png><img alt=Device-2012-05-10-020928 height=889 src=http://getfile3.posterous.com/getfile/files.posterous.com/temp-2012-05-09/nsBdqnInJGxGtjBgsBDEtpmeDhAJmlxvnornfrobJeFkFebindyoGExjmfAD/device-2012-05-10-020928.png.scaled500.png width=500></a></div><p><strong><span style=font-size:medium>Source codes分享於此: <a href=https://github.com/julianshen/instagramlikecam>https://github.com/julianshen/instagramlikecam</a></span></strong></p><p><strong><span style=font-size:medium>References: </span></strong></p><ol><li><span style=font-size:medium><strong><a href=http://dev.opera.com/articles/view/playing-with-html5-video-and-getusermedia-support/>http://dev.opera.com/articles/view/playing-with-html5-video-and-getusermedia-support/</a></strong></span></li><li><span style=font-size:medium><strong><a href=http://people.opera.com/danield/webapps/instant-camera/>http://people.opera.com/danield/webapps/instant-camera/</a></strong></span></li><li><span style=font-size:medium><strong><a href=http://www.html5rocks.com/en/tutorials/getusermedia/intro/>http://www.html5rocks.com/en/tutorials/getusermedia/intro/</a></strong></span></li><li><span style=font-size:medium><strong><a href=http://camanjs.com/>http://camanjs.com/</a></strong></span></li></ol></div></div></article><div class=pagination><ul class=inline-list><li><a href=/post/page/30/ class=btn>Previous</a></li><li><a href=/post/>1</a></li><li><a href=/post/page/2/>2</a></li><li><a href=/post/page/3/>3</a></li><li><a href=/post/page/4/>4</a></li><li><a href=/post/page/5/>5</a></li><li><a href=/post/page/6/>6</a></li><li><a href=/post/page/7/>7</a></li><li><a href=/post/page/8/>8</a></li><li><a href=/post/page/9/>9</a></li><li><a href=/post/page/10/>10</a></li><li><a href=/post/page/11/>11</a></li><li><a href=/post/page/12/>12</a></li><li><a href=/post/page/13/>13</a></li><li><a href=/post/page/14/>14</a></li><li><a href=/post/page/15/>15</a></li><li><a href=/post/page/16/>16</a></li><li><a href=/post/page/17/>17</a></li><li><a href=/post/page/18/>18</a></li><li><a href=/post/page/19/>19</a></li><li><a href=/post/page/20/>20</a></li><li><a href=/post/page/21/>21</a></li><li><a href=/post/page/22/>22</a></li><li><a href=/post/page/23/>23</a></li><li><a href=/post/page/24/>24</a></li><li><a href=/post/page/25/>25</a></li><li><a href=/post/page/26/>26</a></li><li><a href=/post/page/27/>27</a></li><li><a href=/post/page/28/>28</a></li><li><a href=/post/page/29/>29</a></li><li><a href=/post/page/30/>30</a></li><li><strong class=current-page>31</strong></li><li><a href=/post/page/32/>32</a></li><li><a href=/post/page/33/>33</a></li><li><a href=/post/page/34/>34</a></li><li><a href=/post/page/35/>35</a></li><li><a href=/post/page/36/>36</a></li><li><a href=/post/page/37/>37</a></li><li><a href=/post/page/38/>38</a></li><li><a href=/post/page/39/>39</a></li><li><a href=/post/page/40/>40</a></li><li><a href=/post/page/41/>41</a></li><li><a href=/post/page/42/>42</a></li><li><a href=/post/page/43/>43</a></li><li><a href=/post/page/44/>44</a></li><li><a href=/post/page/45/>45</a></li><li><a href=/post/page/46/>46</a></li><li><a href=/post/page/47/>47</a></li><li><a href=/post/page/48/>48</a></li><li><a href=/post/page/49/>49</a></li><li><a href=/post/page/50/>50</a></li><li><a href=/post/page/51/>51</a></li><li><a href=/post/page/52/>52</a></li><li><a href=/post/page/53/>53</a></li><li><a href=/post/page/54/>54</a></li><li><a href=/post/page/55/>55</a></li><li><a href=/post/page/56/>56</a></li><li><a href=/post/page/57/>57</a></li><li><a href=/post/page/58/>58</a></li><li><a href=/post/page/59/>59</a></li><li><a href=/post/page/60/>60</a></li><li><a href=/post/page/61/>61</a></li><li><a href=/post/page/62/>62</a></li><li><a href=/post/page/63/>63</a></li><li><a href=/post/page/64/>64</a></li><li><a href=/post/page/65/>65</a></li><li><a href=/post/page/66/>66</a></li><li><a href=/post/page/67/>67</a></li><li><a href=/post/page/68/>68</a></li><li><a href=/post/page/69/>69</a></li><li><a href=/post/page/70/>70</a></li><li><a href=/post/page/71/>71</a></li><li><a href=/post/page/72/>72</a></li><li><a href=/post/page/73/>73</a></li><li><a href=/post/page/74/>74</a></li><li><a href=/post/page/75/>75</a></li><li><a href=/post/page/76/>76</a></li><li><a href=/post/page/77/>77</a></li><li><a href=/post/page/32/ class=btn>Next</a></li></ul></div></div><div class=footer-wrapper><footer role=contentinfo><span>Powered by <a href=https://gohugo.io/ rel=nofollow>Hugo</a> using the <a href=https://github.com/dldx/hpstr-hugo-theme rel=nofollow>HPSTR theme</a>.</span></footer></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js></script><script src=https://kit.fontawesome.com/872a53b461.js crossorigin=anonymous></script><script>window.jQuery||document.write('<script src="/js/vendor/jquery-1.9.1.min.js"><\/script>')</script><script src=/js/scripts.min.js></script><div id=fb-root></div><script async defer crossorigin=anonymous src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v7.0&appId=293999444006555&autoLogAppEvents=1" nonce=geZSUIUh></script></body></html>